<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Interactive function to create template file — make_dua_template • duawranglr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Interactive function to create template file — make_dua_template" />
<meta property="og:description" content="Use this function to create a template script that puts package
functions in order and, based on question answers, prepopulates
some arguments.  By default, this function is run in interactive
mode, meaning that it will not work in a script unless a list of
answers is given to answer_list argument.  Note that the
saved template file is not intended to be run as is, but only to
provide a starting structure for a cleaning script." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">duawranglr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/duawranglr.html">Motivation</a>
</li>
<li>
  <a href="../articles/securing_data.html">Example usage</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">
    <span class="fas fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fas fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="https://github.com/btskinner/duawranglr">
    <span class="fas fa-github fa-lg"></span>
     
    github
  </a>
</li>
<li>
  <a href="https://twitter.com/btskinner">
    <span class="fab fa-twitter"></span>
     
    twitter
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Interactive function to create template file</h1>
    <small class="dont-index">Source: <a href='https://github.com/btskinner/duawranglr/blob/master/R/template.R'><code>R/template.R</code></a></small>
    <div class="hidden name"><code>make_dua_template.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Use this function to create a template script that puts package
functions in order and, based on question answers, prepopulates
some arguments.  By default, this function is run in interactive
mode, meaning that it will not work in a script unless a list of
answers is given to <code>answer_list</code> argument.  Note that the
saved template file is not intended to be run as is, but only to
provide a starting structure for a cleaning script.</p>
    </div>

    <pre class="usage"><span class='fu'>make_dua_template</span><span class='op'>(</span><span class='va'>file_name</span>, include_notes <span class='op'>=</span> <span class='cn'>TRUE</span>, answer_list <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>file_name</th>
      <td><p>Name with path of template script.</p></td>
    </tr>
    <tr>
      <th>include_notes</th>
      <td><p>If <code>TRUE</code>, the template file will include
notes and suggestions for completing the script; default value
is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>answer_list</th>
      <td><p>List of answer strings to provide if you don't
want to answer questions interactively. See details for
questions and expected input type. Leave as default <code>NULL</code>
for interactive mode.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Questions to answer if using the <code>answer_list</code> argument:</p>
<ol>
<li><p>Do you want to set the DUA crosswalk file? <code>'Yes'</code> or <code>'No'</code></p><ol>
<li><p>DUA crosswalk file (with path): '&lt; file name with path &gt;'</p></li>
</ol></li>
<li><p>Do the data need to be deidentified? <code>'Yes'</code> or <code>'No'</code></p><ol>
<li><p>Would like to select the ID column now? <code>'Yes'</code> or <code>'No'</code></p></li>
<li><p>ID column name: '&lt; column name string &gt;'</p></li>
</ol></li>
</ol>

<p>If answers to questions (1) and (2) are <code>No</code>, then strings for 1(a),
2(a), and 2(b) can be left empty since they will be ignored.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'>## run interactively</span>
<span class='fu'>make_dua_template</span><span class='op'>(</span><span class='st'>'data_clean.R'</span><span class='op'>)</span>

<span class='co'>## ...and don't include extra notes</span>
<span class='fu'>make_dua_template</span><span class='op'>(</span><span class='st'>'data_clean.R'</span>, include_notes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'>## make template to be filled in</span>
<span class='va'>file</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>'data_clean.R'</span><span class='op'>)</span>
<span class='fu'>make_dua_template</span><span class='op'>(</span><span class='va'>file</span>, answer_list <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>'No'</span>,<span class='st'>''</span>,<span class='st'>'No'</span>,<span class='st'>''</span>,<span class='st'>''</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'>## show</span>
<span class='fu'><a href='https://rdrr.io/r/base/writeLines.html'>writeLines</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/readLines.html'>readLines</a></span><span class='op'>(</span><span class='va'>file</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; ################################################################################
#&gt; ##
#&gt; ## [ Proj ] &lt; general project name &gt;
#&gt; ## [ File ] data_clean.R
#&gt; ## [ Auth ] &lt; author name &gt;
#&gt; ## [ Init ] 14 April 2021
#&gt; ##
#&gt; ################################################################################
#&gt;  
#&gt; ## ---------------------------
#&gt; ## libraries
#&gt; ## ---------------------------
#&gt;  
#&gt; ## NOTES: Include additional libraries using either -library()- or -require()-
#&gt; ## functions here.
#&gt;  
#&gt; ## ---------------------------
#&gt; ## set DUA crosswalk
#&gt; ## ---------------------------
#&gt;  
#&gt; ## NOTES: Choose the DUA agreement crosswalk file if you didn't when setting up
#&gt; ## the template. If the file is a delimited file that isn't a CSV or TSV, be
#&gt; ## sure to indicate the delimiter string with the -delimiter- argument.
#&gt; ## Similarly if the crosswalk is in an Excel file on any sheet beyond the
#&gt; ## first, set the -sheet- argument to the correct sheet.
#&gt;  
#&gt; set_dua(dua = '&lt; dua crosswalk file name &gt;')
#&gt;  
#&gt; ## ---------------------------
#&gt; ## set DUA level
#&gt; ## ---------------------------
#&gt;  
#&gt; ## NOTES: Choose the DUA agreement crosswalk level. If you indicated that the
#&gt; ## data should be deidentified, those options, including the ID column if
#&gt; ## choosen, are included below. If you did not indicate the name of the ID
#&gt; ## column to be deidentified, add its name after the -id_column- argument.
#&gt; ## 
#&gt; ## If you did not indicate that the data should be deidentified, but they
#&gt; ## should be, see ?deid_dua().
#&gt;  
#&gt; set_dua_level(level = '&lt; level name &gt;')
#&gt;  
#&gt; ## ---------------------------
#&gt; ## data cleaning
#&gt; ## ---------------------------
#&gt;  
#&gt; ## NOTES: Use standard scripts to build and clean data set here.
#&gt;  
#&gt; ## ---------------------------
#&gt; ## check DUA restrictions
#&gt; ## ---------------------------
#&gt;  
#&gt; ## NOTES: If your data frame includes restricted data elements or should have
#&gt; ## been deidentified and has not been, -check_dua_restrictions()- will return
#&gt; ## an error and stop. Fix above and rerun or set -remove_protected- arguement
#&gt; ## to TRUE to automatically remove restricted columns.
#&gt;  
#&gt; check_dua_restrictions(df = '&lt; data frame &gt;')
#&gt;  
#&gt; ## ---------------------------
#&gt; ## write cleaned file
#&gt; ## ---------------------------
#&gt;  
#&gt; ## NOTES: Write cleaned file to disk. Select the file type (e.g., CSV, TSV,
#&gt; ## Stata, Rdata) and include additional arguments required by -haven- or base R
#&gt; ## writing functions.
#&gt;  
#&gt; write_dua_df(df = '&lt; data frame &gt;', output_type = '&lt; output file type &gt;'
#&gt;  
#&gt; ## -----------------------------------------------------------------------------
#&gt; ## end script
#&gt; ################################################################################</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.btskinner.io'>Benjamin Skinner</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


